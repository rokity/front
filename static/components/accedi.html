<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/gold-email-input/gold-email-input.html">
<link rel="import" href="../bower_components/gold-password-input/gold-password-input.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner-lite.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../bower_components/app-layout/app-layout.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">

<link rel="import"  href="js/global-script.html">
<link rel="import"  href="home/accedi-script.html"  >
<link rel="import" href="css/global-style.html">
<link rel="import" href="home/accedi-style.html">


<dom-module id="my-app-accedi" >
  <template>
    <app-drawer-layout force-narrow fullbleed>
    <style include="my-app-global-style"></style>
  <style include="my-app-accedi-style"></style>
  
<app-drawer>
  drawer-content
</app-drawer>
<paper-header-panel class="flex">
  <paper-toolbar class="navbar medium" justify="justified">
      <iron-icon  icon="reorder" drawer-toggle></iron-icon>

      <paper-toolbar class="navbar">

        <a id="registrati" onclick="registrati(this)" style="z-index:10;"><paper-button toggle>Registrati</paper-button></a>
        <a id="accedi"     onclick="accedi(this)" style="z-index:10;color:black;"><paper-button toggle>Accedi</paper-button></a>

      </paper-toolbar>
  </paper-toolbar>
</paper-header-panel>

  <div class="fit layout vertical center-justified">
    <iron-image sizing="cover" id="example-sizing-cover"
    alt="My Home Agenda page" class="self-center" >
    </iron-image>
  </div>
  </app-drawer-layout>

  <paper-dialog   id="accediDialog" class="registrati-dati fit layout vertical center-justified" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
		<paper-card class="self-center">
      <paper-toolbar class="medium head" justify="justified">
        <div class="top">Accedi</div>
        <div class="top"></div>
        <paper-icon-button  on-tap="close" class="top" icon="icons:close" dialog-dismiss></paper-icon-button>
      </paper-toolbar>
		  <div class="card-content" >
			 <a href="" style="display:none;">
			<paper-toolbar class="tall facebook-accedi"  middle-justify="justified">
			  <img src="https://gzipmha.herokuapp.com/static/components/images/facebook_logo.png"  class="middle "></img>
			  <div class="middle"> <h2>Accedi con Facebook</h2></div>
			  <div class="middle">
			  </div>
			</paper-toolbar>
      </a>
      <form is="iron-form" method="get" action="https://mhauser.herokuapp.com/user/get-password" id="formAccedi">
			<gold-email-input name="email" auto-validate > prova</gold-email-input>
			<gold-password-input name="password" reveal suffix> </gold-password-input>

                  <paper-toggle-button style="padding-top:20px;padding-bottom:20px;">Ricordami</paper-toggle-button>
            <paper-button  style="padding-top:20px;padding-bottom:20px;margin-left:0px;color:black;">
              Password dimenticata?
            </paper-button>
            <paper-button class="accedi-button" raised  type="submit" onclick="checkEmail()">
              <h2>Accedi</h2>
            </paper-button>
        </form>
  		  </div>
				<div class="card-actions">
					<paper-toolbar class="medium actions" justify="justified">
						<paper-button noink > Non hai un account?</paper-button>
						<paper-button toggle class="border-orange" onclick="registrati(this)">Registrati</paper-button>
					</paper-toolbar>
				</div>
		</paper-card>
    </paper-dialog>
    <paper-dialog id="spinnerAccedi" style="background-color:transparent"  modal role="alertdialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop >

    <paper-spinner-lite active></paper-spinner-lite>
  </paper-dialog>
  <paper-dialog id="errorDialogAccedi" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop >
      <div id="errorAccedi" value=""></div>

  </paper-dialog>

  </template>
    <script>
  Polymer({
    is: 'my-app-accedi',
    ready : function (){
      this.open();
    },
    close:function(e){
      var dialog=document.getElementById("accediDialog");      
      dialog.toggle();
      window.location.href = '/home';
    },
    open:function(){
      var dialog=document.getElementById('accediDialog');
      dialog.positionTarget = this.$$("#example-sizing-cover");
      dialog.sizingTarget = this.$$("#example-sizing-cover");
      dialog.open();
    },
  });
   </script>
  
</dom-module>
